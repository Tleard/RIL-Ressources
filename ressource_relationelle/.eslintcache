[{"/var/www/dev/RIL-Ressources/ressource_relationelle/src/index.js":"1","/var/www/dev/RIL-Ressources/ressource_relationelle/src/App.js":"2","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Navigation.js":"3","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Home.js":"4","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Categories.js":"5","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Login.js":"6","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Register.js":"7","/var/www/dev/RIL-Ressources/ressource_relationelle/src/ProtectedRoute.js":"8","/var/www/dev/RIL-Ressources/ressource_relationelle/src/auth.js":"9","/var/www/dev/RIL-Ressources/ressource_relationelle/src/global.js":"10","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Category.js":"11","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Resource.js":"12","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/ResourceCardDetail.js":"13"},{"size":308,"mtime":1610921613212,"results":"14","hashOfConfig":"15"},{"size":1793,"mtime":1612122248352,"results":"16","hashOfConfig":"15"},{"size":2124,"mtime":1611924699021,"results":"17","hashOfConfig":"15"},{"size":159,"mtime":1612108130852,"results":"18","hashOfConfig":"15"},{"size":2231,"mtime":1612109097699,"results":"19","hashOfConfig":"15"},{"size":1982,"mtime":1612122197527,"results":"20","hashOfConfig":"15"},{"size":9530,"mtime":1612126346547,"results":"21","hashOfConfig":"15"},{"size":1082,"mtime":1612109309892,"results":"22","hashOfConfig":"15"},{"size":568,"mtime":1610921613152,"results":"23","hashOfConfig":"15"},{"size":69,"mtime":1611670056656,"results":"24","hashOfConfig":"15"},{"size":3961,"mtime":1612107093407,"results":"25","hashOfConfig":"15"},{"size":2691,"mtime":1612108017185,"results":"26","hashOfConfig":"15"},{"size":1200,"mtime":1612108302234,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"ypsff0",{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"30"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/var/www/dev/RIL-Ressources/ressource_relationelle/src/index.js",[],["59","60"],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/App.js",["61","62","63"],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Navigation.js",["64"],"import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport auth from '../auth';\nimport { withRouter } from 'react-router-dom';\n\n// Import from MaterialUI\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst Navigation = (props) => {\n\n// MaterialUI logic\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\n\nconst classes = useStyles();\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton>\n          <Typography component={Link} to=\"/home\" variant=\"h6\" className={classes.title}>\n            Accueil\n          </Typography>\n          <Typography component={Link} to=\"/\" variant=\"h6\" className={classes.title}>\n            Fil d'actualité\n          </Typography>\n          <Typography component={Link} to=\"/categories\" variant=\"h6\" className={classes.title}>\n            Catégories\n          </Typography>\n          <Typography component={Link} to=\"/\" variant=\"h6\" className={classes.title}>\n            Publier\n          </Typography>\n          <Typography component={Link} to=\"/\" variant=\"h6\" className={classes.title}>\n            Aide\n          </Typography>\n          <Button color=\"inherit\" component={Link} to=\"/login\">Login</Button>\n          <Button color=\"inherit\" onClick={() => {\n                      auth.loggedout(() => {\n                          console.log('callback in test');\n                          props.history.push('/login');\n                      });\n            }}>Logout</Button>\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n}\n\nexport default withRouter(Navigation);\n","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Home.js",[],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Categories.js",[],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Login.js",["65"],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Register.js",["66","67","68","69","70","71","72","73","74","75","76"],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/ProtectedRoute.js",["77"],"// We make use of the library react-jwt to check if a token is still valid or not\nimport React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {useJwt} from 'react-jwt';\nimport auth from './auth';\n\n// We export a functional component. We will pass Components as a props in the function, it is destructured. \nconst ProtectedRoute = ({component: Component, ...rest}) => {\n    const { decodedToken, isExpired } = useJwt(auth.getToken());\n\n    return (\n        <Route \n            {...rest} \n            render ={props => {\n                if(auth.getToken() !== 'undefined' && !isExpired) {\n                    return <Component {...props}/>;\n                } else {\n                    return ( <Redirect \n                        to={{\n                            pathname: \"login\",\n                            state: {\n                                form: props.location\n                            }\n                        }}\n                    />\n                    )\n                }\n            }}\n        />\n    );\n}\n\nexport default ProtectedRoute;\n","/var/www/dev/RIL-Ressources/ressource_relationelle/src/auth.js",[],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/global.js",[],"/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Category.js",["78"],"// This compenent contains the resources of ONE chosen category \nimport React from 'react';\nimport auth from '../auth';\nimport { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\n\n// MaterialUI import\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\n\n\n// MaterialUI Icon Import\nimport FavoriteIcon from \"@material-ui/icons/Favorite\"\nimport ShareIcon from \"@material-ui/icons/Share\"\n\n// MaterialUI Lab \nimport { Alert, AlertTitle } from \"@material-ui/lab\";\n\nfunction Category(props) {\n  // The category object that we get is used to get the correct resources\n  const { category } = props.location.state;\n\n  const [resources, setResources] = useState([]);\n  const [categoryTitle, setCategoryTitle] = useState([]);\n\n\n  useEffect(() => {\n    if (localStorage.getItem(\"auth_token\")) {\n      const getResources = async () => {\n        const resourcesFromServer = await fetchResources();\n        setResources(resourcesFromServer);\n      };\n\n      setCategoryTitle(category.name);\n\n      getResources();\n      \n    }\n  }, []);\n\n  // Fetch Resources\n  const fetchResources = async () => {\n    const res = await fetch(`${global.api}/api/resources/category/${category.name}`, {\n      method: \"get\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-type\": \"application/json\",\n        Authorization: `Bearer ${auth.getToken()}`,\n      },\n    });\n    const data = await res.json();\n\n    return data;\n  };\n\n  console.log(resources);\n  \n  return (\n    \n    <>\n      <Typography variant=\"h2\" component=\"h1\" style={{margin:\"4% 0 4% 0\"}}>\n        Ressources pour : {categoryTitle}\n      </Typography>\n      <Grid container spacing={3}>\n          {typeof resources[0] !== \"string\" ?\n              resources.map((resource) => {\n                // To format the Date to dd/mm/YYYY\n                const date = new Date(resource.createdAt);\n                const day = date.getDate();\n                const month = (\"0\" + date.getMonth()).slice(-1) + 1;\n                const year = date.getFullYear();\n\n                return (\n                  <Grid item xs={12}>\n                    <Card variant=\"outlined\">\n                      <CardHeader\n                        title={resource.title}\n                        subheader={`${resource.author.username} - ${day}/${month}/${year}`}\n                        \n                      />\n                      <CardContent>\n                        {resource.description}\n                      </CardContent>\n                      <CardActions style={{justifyContent:'flex-end'}}>\n                        <IconButton aria-label=\"add to favorites\">\n                          <FavoriteIcon />\n                        </IconButton>\n                        <IconButton aria-label=\"share\">\n                          <ShareIcon />\n                        </IconButton>\n                        <Button size=\"medium\" color=\"primary\">\n                          <Link\n                            key={resource.id}\n                            to={{pathname: \"category/resource\", state: {id: resource.id}}}\n                          >\n                            Consulter\n                          </Link> \n                        </Button>\n                      </CardActions>\n                    </Card>\n                  </Grid>\n                );\n                      \n              })\n              : <Alert severity=\"info\">\n                  <AlertTitle>Attention</AlertTitle>\n                  Cette catégorie n'a pas encore de ressource\n                </Alert>\n            }\n      </Grid>\n    </>\n  );\n}\n\nexport default Category\n","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/Resource.js",["79","80","81","82","83","84"],"// Component containing a chosen ressource\nimport React from 'react'\nimport { useState, useEffect } from 'react'\nimport \"./Resource\"\nimport auth from '../auth'\n\n// MaterialUI import\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\n\n\n// MaterialUI Icon Import\nimport FavoriteIcon from \"@material-ui/icons/Favorite\"\nimport ShareIcon from \"@material-ui/icons/Share\"\n\n\nimport ResourceCardDetail from './ResourceCardDetail'\n\nfunction Resource(props) {\n    const {id}  = props.location.state;\n    console.log(id);\n\n    const [resource, setResource] = useState();\n\n    useEffect(() => {\n        if (localStorage.getItem(\"auth_token\")) {\n          const getResources = async () => {\n            const resourcesFromServer = await fetchResource();\n            setResource(resourcesFromServer);\n          };\n    \n          getResources();\n          \n        }\n      }, []);\n\n    // Fetch One Ressource\n    const fetchResource = async () => {\n        const res = await fetch(`${global.api}/api/resources/${id}`, {\n            method: \"get\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-type\": \"application/json\",\n              Authorization: `Bearer ${auth.getToken()}`,\n            },\n        })\n        const data = await res.json();\n    \n        return data;\n    }\n    console.log(resource);\n    //console.log(resource[0].id);\n\n    // To format the Date to dd/mm/YYYY\n    // const date = new Date(resource.createdAt);\n    // const day = date.getDate();\n    // const month = (\"0\" + date.getMonth()).slice(-1) + 1;\n    // const year = date.getFullYear();\n\n    return (\n      <>\n        <h1>This is only ONE resource.</h1>\n        <Card variant=\"outlined\">\n          <CardHeader\n            //title={resource[0].title}\n            // subheader={`${resource.author.username} - ${day}/${month}/${year}`}\n          />\n          {/* <CardContent>{resource[0].description}</CardContent> */}\n          <CardActions style={{ justifyContent: \"flex-end\" }}>\n            <IconButton aria-label=\"add to favorites\">\n              <FavoriteIcon />\n            </IconButton>\n            <IconButton aria-label=\"share\">\n              <ShareIcon />\n            </IconButton>\n          </CardActions>\n        </Card>\n\n        {/* <ResourceCardDetail {...resource[0]}/> */}\n      </>\n    );\n}\n\nexport default Resource\n","/var/www/dev/RIL-Ressources/ressource_relationelle/src/components/ResourceCardDetail.js",[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":18},{"ruleId":"89","severity":1,"message":"93","line":2,"column":20,"nodeType":"91","messageId":"92","endLine":2,"endColumn":29},{"ruleId":"89","severity":1,"message":"94","line":6,"column":8,"nodeType":"91","messageId":"92","endLine":6,"endColumn":12},{"ruleId":"89","severity":1,"message":"90","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":25},{"ruleId":"89","severity":1,"message":"95","line":2,"column":22,"nodeType":"91","messageId":"92","endLine":2,"endColumn":30},{"ruleId":"89","severity":1,"message":"90","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":25},{"ruleId":"89","severity":1,"message":"95","line":3,"column":10,"nodeType":"91","messageId":"92","endLine":3,"endColumn":18},{"ruleId":"89","severity":1,"message":"96","line":12,"column":8,"nodeType":"91","messageId":"92","endLine":12,"endColumn":24},{"ruleId":"89","severity":1,"message":"97","line":13,"column":8,"nodeType":"91","messageId":"92","endLine":13,"endColumn":16},{"ruleId":"89","severity":1,"message":"98","line":16,"column":8,"nodeType":"91","messageId":"92","endLine":16,"endColumn":11},{"ruleId":"89","severity":1,"message":"99","line":46,"column":45,"nodeType":"91","messageId":"92","endLine":46,"endColumn":51},{"ruleId":"89","severity":1,"message":"100","line":46,"column":53,"nodeType":"91","messageId":"92","endLine":46,"endColumn":61},{"ruleId":"89","severity":1,"message":"101","line":47,"column":10,"nodeType":"91","messageId":"92","endLine":47,"endColumn":22},{"ruleId":"89","severity":1,"message":"102","line":47,"column":24,"nodeType":"91","messageId":"92","endLine":47,"endColumn":35},{"ruleId":"89","severity":1,"message":"103","line":47,"column":37,"nodeType":"91","messageId":"92","endLine":47,"endColumn":55},{"ruleId":"104","severity":1,"message":"105","line":146,"column":41,"nodeType":"106","messageId":"107","endLine":146,"endColumn":42,"suggestions":"108"},{"ruleId":"89","severity":1,"message":"109","line":9,"column":13,"nodeType":"91","messageId":"92","endLine":9,"endColumn":25},{"ruleId":"110","severity":1,"message":"111","line":45,"column":6,"nodeType":"112","endLine":45,"endColumn":8,"suggestions":"113"},{"ruleId":"89","severity":1,"message":"114","line":8,"column":8,"nodeType":"91","messageId":"92","endLine":8,"endColumn":12},{"ruleId":"89","severity":1,"message":"115","line":11,"column":8,"nodeType":"91","messageId":"92","endLine":11,"endColumn":19},{"ruleId":"89","severity":1,"message":"116","line":14,"column":8,"nodeType":"91","messageId":"92","endLine":14,"endColumn":18},{"ruleId":"89","severity":1,"message":"117","line":15,"column":8,"nodeType":"91","messageId":"92","endLine":15,"endColumn":14},{"ruleId":"89","severity":1,"message":"118","line":23,"column":8,"nodeType":"91","messageId":"92","endLine":23,"endColumn":26},{"ruleId":"110","severity":1,"message":"119","line":41,"column":10,"nodeType":"112","endLine":41,"endColumn":12,"suggestions":"120"},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'auth' is defined but never used.","'Redirect' is defined but never used.","'FormControlLabel' is defined but never used.","'Checkbox' is defined but never used.","'Box' is defined but never used.","'errors' is assigned a value but never used.","'setError' is assigned a value but never used.","'isSubmitting' is assigned a value but never used.","'isSubmitted' is assigned a value but never used.","'isSubmitSuccessful' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["123","124"],"'decodedToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'category.name' and 'fetchResources'. Either include them or remove the dependency array.","ArrayExpression",["125"],"'Grid' is defined but never used.","'CardContent' is defined but never used.","'Typography' is defined but never used.","'Button' is defined but never used.","'ResourceCardDetail' is defined but never used.","React Hook useEffect has a missing dependency: 'fetchResource'. Either include it or remove the dependency array.",["126"],"no-global-assign","no-unsafe-negation",{"messageId":"127","fix":"128","desc":"129"},{"messageId":"130","fix":"131","desc":"132"},{"desc":"133","fix":"134"},{"desc":"135","fix":"136"},"removeEscape",{"range":"137","text":"138"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"139","text":"140"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [category.name, fetchResources]",{"range":"141","text":"142"},"Update the dependencies array to be: [fetchResource]",{"range":"143","text":"144"},[4676,4677],"",[4676,4676],"\\",[1401,1403],"[category.name, fetchResources]",[1218,1220],"[fetchResource]"]